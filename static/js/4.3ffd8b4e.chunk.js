(this["webpackJsonpshop-main-project"]=this["webpackJsonpshop-main-project"]||[]).push([[4],{133:function(e,t,s){e.exports=s(112)},134:function(e,t,s){"use strict";function a(e,t,s,a,c,r,n){try{var u=e[r](n),i=u.value}catch(b){return void s(b)}u.done?t(i):Promise.resolve(i).then(a,c)}function c(e){return function(){var t=this,s=arguments;return new Promise((function(c,r){var n=e.apply(t,s);function u(e){a(n,c,r,u,i,"next",e)}function i(e){a(n,c,r,u,i,"throw",e)}u(void 0)}))}}s.d(t,"a",(function(){return c}))},144:function(e,t,s){e.exports={basket:"Basket_basket__2crO0",basketTitle:"Basket_basketTitle__bedu5",basketWrapper:"Basket_basketWrapper__1j-Kz",basketResultWrapper:"Basket_basketResultWrapper__3oCoD",basketResultItem:"Basket_basketResultItem__bIhGU",basketResultButtonWrapper:"Basket_basketResultButtonWrapper__24p6f",basketResultButton:"Basket_basketResultButton__3Xmd2",basketNothing:"Basket_basketNothing__24vZx"}},145:function(e,t,s){e.exports={basketItem:"BasketItem_basketItem__3FH82",basketItemPrise:"BasketItem_basketItemPrise__2YnCG",basketItemPictureWrapper:"BasketItem_basketItemPictureWrapper__1IpdB",basketItemPicture:"BasketItem_basketItemPicture__1eNWf",basketItemProductTitle:"BasketItem_basketItemProductTitle__2Fqx6",basketItemProductCounter:"BasketItem_basketItemProductCounter__2Z-Xh",basketItemProductPriceWrapper:"BasketItem_basketItemProductPriceWrapper__1niSR",basketItemProductPriceNew:"BasketItem_basketItemProductPriceNew__Q63Iv",basketItemProductPrice:"BasketItem_basketItemProductPrice__1Eq6r",basketItemProductDeleteWrapper:"BasketItem_basketItemProductDeleteWrapper__3AUyL"}},146:function(e,t,s){e.exports={basketItemCounter:"BasketItemCounter_basketItemCounter__38uVr",basketItemButton:"BasketItemCounter_basketItemButton__1Qgoy",basketItemButtonDisable:"BasketItemCounter_basketItemButtonDisable__3kMHI",basketItemInput:"BasketItemCounter_basketItemInput__387J7"}},162:function(e,t,s){"use strict";s.r(t);var a=s(18),c=s(1),r=s(10),n=s(31),u=s(45),i=s(89),b=s(144),o=s.n(b),l=s(90),j=s(145),m=s.n(j),k=s(133),p=s.n(k),d=s(134),I=s(52),O=s(146),_=s.n(O),h=s(2),f=function(e){var t=e.product,s=Object(I.b)(),r=Object(c.useRef)(null),n=Object(c.useState)(t.count),i=Object(a.a)(n,2),b=i[0],o=i[1],l=function(){var e=Object(d.a)(p.a.mark((function e(a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),o((function(e){return e-1})),1!==+r.current.value){e.next=4;break}return e.abrupt("return");case 4:s(Object(u.f)({id:t.id,count:+r.current.value-1}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(d.a)(p.a.mark((function e(a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),o((function(e){return e+1})),s(Object(u.f)({id:t.id,count:+r.current.value+1}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsxs)("div",{className:_.a.basketItemCounter,children:[Object(h.jsx)("button",{type:"submit",className:1===t.count?_.a.basketItemButtonDisable:_.a.basketItemButton,onClick:l,children:Object(h.jsx)("span",{children:"-"})}),Object(h.jsx)("input",{type:"number",min:"1",value:b,onChange:function(e){o(+e.target.value),s(Object(u.f)({id:t.id,count:+e.target.value}))},className:_.a.basketItemInput,ref:r}),Object(h.jsx)("button",{type:"submit",className:_.a.basketItemButton,onClick:j,children:Object(h.jsx)("span",{children:"+"})})]})},x=function(e){var t=e.product,s=Object(n.a)();return Object(h.jsxs)("div",{className:m.a.basketItem,children:[Object(h.jsx)("div",{className:m.a.basketItemPictureWrapper,children:Object(h.jsx)("img",{className:m.a.basketItemPicture,src:t.img,alt:"New TyberryShop Product"})}),Object(h.jsx)("div",{className:m.a.basketItemProductTitle,children:t.text}),Object(h.jsx)("div",{className:m.a.basketItemProductCounter,children:Object(h.jsx)(f,{product:t})}),Object(h.jsxs)("div",{className:m.a.basketItemProductPriceWrapper,children:[Object(h.jsxs)("div",{className:m.a.basketItemProductPriceNew,children:[t.price*t.count-t.price*t.count*t.sale," ","\u20bd"]}),Object(h.jsxs)("div",{className:m.a.basketItemProductPrice,children:[t.price*t.count," \u20bd"]})]}),Object(h.jsx)("div",{className:m.a.basketItemProductDeleteWrapper,children:Object(h.jsx)(l.b,{onClick:function(){s(Object(u.d)(t))}})})]})};t.default=function(){var e=Object(n.a)(),t=Object(r.f)(),s=Object(n.b)(u.e),b=Object(c.useState)(0),l=Object(a.a)(b,2),j=l[0],m=l[1],k=Object(c.useState)(0),p=Object(a.a)(k,2),d=p[0],I=p[1],O=Object(c.useState)(0),_=Object(a.a)(O,2),f=_[0],v=_[1],P=Object(c.useState)(0),B=Object(a.a)(P,2),N=B[0],W=B[1];Object(c.useEffect)((function(){var e=0,t=0,a=0,c=0;s.forEach((function(s){e+=s.count,t+=(s.price-s.price*s.sale)*s.count,a+=s.price*s.count,c+=s.sale*a})),m(e),I(t),v(a),W(c)}),[s,d,I,j,m,f,v,N,W]);return 0===s.length?Object(h.jsxs)("div",{className:o.a.basketNothing,children:[" ","\u0412 \u0432\u0430\u0448\u0435\u0439 \u043a\u043e\u0440\u0437\u0438\u043d\u0435 \u043f\u043e\u043a\u0430 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435\u0442."]}):Object(h.jsxs)("form",{className:o.a.basket,children:[Object(h.jsx)("h2",{className:o.a.basketTitle,children:"\u0417\u0430\u043a\u0430\u0437"}),Object(h.jsxs)("div",{className:o.a.basketWrapper,children:[Object(h.jsx)("div",{children:s.map((function(e){return Object(h.jsx)(x,{product:e},e.id)}))}),Object(h.jsxs)("div",{className:o.a.basketResultWrapper,children:[Object(h.jsxs)("div",{className:o.a.basketResultItem,children:[Object(h.jsx)("span",{children:"\u0418\u0442\u043e\u0433\u043e"}),Object(h.jsxs)("span",{children:[d," \u20bd"]})]}),Object(h.jsxs)("div",{className:o.a.basketResultItem,children:[Object(h.jsxs)("span",{children:["\u0422\u043e\u0432\u0430\u0440\u044b,",j," \u0448\u0442."]}),Object(h.jsxs)("span",{children:[" ",f," \u20bd"]})]}),Object(h.jsxs)("div",{className:o.a.basketResultItem,children:[Object(h.jsx)("span",{children:"\u0421\u043a\u0438\u0434\u043a\u0430"}),Object(h.jsxs)("span",{children:[N," \u20bd "]})]}),Object(h.jsxs)("div",{className:o.a.basketResultItem,children:[Object(h.jsx)("span",{children:"\u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430"}),Object(h.jsx)("span",{children:"\u0411\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u043e"})]}),Object(h.jsx)("div",{className:o.a.basketResultButtonWrapper,children:Object(h.jsx)("button",{type:"submit",onClick:function(s){s.preventDefault(),t.push("/profile");var a={totalPriseOrder:d,totalCountOrder:j};e(Object(i.a)(a)),e(Object(u.c)())},className:o.a.basketResultButton,children:"\u0417\u0430\u043a\u0430\u0437\u0430\u0442\u044c"})})]})]})]})}}}]);
//# sourceMappingURL=4.3ffd8b4e.chunk.js.map